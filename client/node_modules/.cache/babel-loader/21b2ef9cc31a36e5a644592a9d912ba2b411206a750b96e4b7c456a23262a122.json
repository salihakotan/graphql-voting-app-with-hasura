{"ast":null,"code":"import { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\nimport { split, HttpLink } from \"@apollo/client\";\nimport { getMainDefinition } from \"@apollo/client/utilities\";\nconst wsLink = new WebSocketLink(new SubscriptionClient(\"ws://localhost:8080/v1/graphql\", {}));\nconst httpLink = new HttpLink({\n  uri: \"http://localhost:8080/v1/graphql\"\n});\nconst splitLink = split(({\n  query\n}) => {\n  const definition = getMainDefinition(query);\n  return definition.kind === \"OperationDefinition\" && definition.operation === \"subscription\";\n}, wsLink, httpLink);\nconst client = new ApolloClient({\n  link: splitLink,\n  cache: new InMemoryCache()\n});\nexport default client;","map":{"version":3,"names":["ApolloClient","InMemoryCache","WebSocketLink","SubscriptionClient","split","HttpLink","getMainDefinition","wsLink","httpLink","uri","splitLink","query","definition","kind","operation","client","link","cache"],"sources":["C:/Users/Clara/Desktop/GitProjects/GRAPHQL/voting-app-hasura/client/src/apollo.js"],"sourcesContent":["import { ApolloClient, InMemoryCache } from \"@apollo/client\";\r\n\r\nimport { WebSocketLink } from '@apollo/client/link/ws'\r\nimport { SubscriptionClient } from 'subscriptions-transport-ws'\r\nimport { split, HttpLink } from \"@apollo/client\";\r\nimport { getMainDefinition } from \"@apollo/client/utilities\";\r\n\r\n\r\nconst wsLink = new WebSocketLink(\r\n  new SubscriptionClient(\"ws://localhost:8080/v1/graphql\", {\r\n  }),\r\n);\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: \"http://localhost:8080/v1/graphql\",\r\n});\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === \"OperationDefinition\" &&\r\n      definition.operation === \"subscription\"\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink\r\n);\r\n\r\nconst client = new ApolloClient({\r\n  link: splitLink,\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\n\r\nexport default client;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,gBAAgB;AAE5D,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,kBAAkB,QAAQ,4BAA4B;AAC/D,SAASC,KAAK,EAAEC,QAAQ,QAAQ,gBAAgB;AAChD,SAASC,iBAAiB,QAAQ,0BAA0B;AAG5D,MAAMC,MAAM,GAAG,IAAIL,aAAa,CAC9B,IAAIC,kBAAkB,CAAC,gCAAgC,EAAE,CACzD,CAAC,CACH,CAAC;AAED,MAAMK,QAAQ,GAAG,IAAIH,QAAQ,CAAC;EAC5BI,GAAG,EAAE;AACP,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGN,KAAK,CACrB,CAAC;EAAEO;AAAM,CAAC,KAAK;EACb,MAAMC,UAAU,GAAGN,iBAAiB,CAACK,KAAK,CAAC;EAC3C,OACEC,UAAU,CAACC,IAAI,KAAK,qBAAqB,IACzCD,UAAU,CAACE,SAAS,KAAK,cAAc;AAE3C,CAAC,EACDP,MAAM,EACNC,QACF,CAAC;AAED,MAAMO,MAAM,GAAG,IAAIf,YAAY,CAAC;EAC9BgB,IAAI,EAAEN,SAAS;EACfO,KAAK,EAAE,IAAIhB,aAAa,CAAC;AAC3B,CAAC,CAAC;AAGF,eAAec,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}